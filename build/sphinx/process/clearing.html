
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Clearing Transactions &#8212; diamond-accounting 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="clearing-transactions">
<h1>Clearing Transactions<a class="headerlink" href="#clearing-transactions" title="Permalink to this headline">¶</a></h1>
<p>Once transactions are imported, they must be reviewed for accuracy once before the “numbers” can be trusted.
Importing has assured that the categories are roughly correct, but now we must verify that the dollar amounts have been imported correctly.
The way to review transactions for accuracy is to compare the ending balance to a statement from the financial institution.
If the balances match, then all of the transactions have been successfully copied over to your ledger; you can now trust the numbers.
This review process is called “clearing transactions.”</p>
<p>Each bank statement is like a checkpoint that serves to synchronize our ledger with the bank’s ledger.
When we independently verify that our record of the transactions sums to the same balance as the bank’s, we are confident that the transaction data were downloaded correctly, entered correctly, and are being reported correctly.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>0. Sort transactions
2. Clear All Transactions
1. Verify Balances</p>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>First ensure you have the following materials in front of you:</p>
<ul class="simple">
<li>bank statements</li>
<li>the ledger file that is being cleared</li>
<li>the transfers ledger, possibly</li>
</ul>
</div>
<div class="section" id="sort-transactions">
<h2>Sort transactions<a class="headerlink" href="#sort-transactions" title="Permalink to this headline">¶</a></h2>
<p>The transactions are probably sorted already, so this step may not be necessary.
In case transactions are not sorted, the <cite>sorttrans-cli</cite> tool can be used for the job:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LEDGER_FILE</span><span class="o">=~/</span><span class="n">Work</span><span class="o">/</span><span class="n">ledger</span><span class="o">/</span><span class="n">ledgers</span><span class="o">/</span><span class="mi">2017</span><span class="o">/</span><span class="n">BANK</span><span class="o">-</span><span class="mf">0000.</span><span class="n">ledger</span> <span class="n">sorttrans</span><span class="o">-</span><span class="n">cli</span>
</pre></div>
</div>
<p>If transactions need to be sorted regularly, then update the <cite>Makefile</cite> with a target so this can be repeated:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">sort</span><span class="o">-</span><span class="mi">0000</span>
</pre></div>
</div>
</div>
<div class="section" id="clear-transactions">
<h2>Clear Transactions<a class="headerlink" href="#clear-transactions" title="Permalink to this headline">¶</a></h2>
<p>Ledger supports the ability to mark transactions as cleared by placing an asterisk before the memo.
Cleared transactions can be reported apart from uncleared transactions, enabling reports to be generated with accurate numbers even while the ledgers could contain pending transactions.</p>
<p>To clear a transaction, it must be compared against an official record from the party who intermediated the transaction.
If you instructed your bank to pay for a coffee, and if this coffee purchase transaction correctly appears in your ledger, then look to the bank statement to confirm that the billed for the coffee shows up.
When taking data directly from a bank’s exported <cite>QFX</cite> file, it’s unlikely that the amounts will differ from the statement.
However, when manually entering certain transactions, such as when booking a payment or receivable before it cleared, there is opportunity for data entry errors.</p>
<p>The <cite>cleartrans-cli</cite> tool can be used to make the clearing process operate much more quickly.
This is a command for doing it:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">LEDGER_FILE</span><span class="o">=~/</span><span class="n">Work</span><span class="o">/</span><span class="n">ledger</span><span class="o">/</span><span class="n">ledgers</span><span class="o">/</span><span class="mi">2017</span><span class="o">/</span><span class="n">BANK</span><span class="o">-</span><span class="mf">0000.</span><span class="n">ledger</span> <span class="n">cleartrans</span><span class="o">-</span><span class="n">cli</span>
<span class="n">ledger</span> <span class="o">--</span><span class="n">sort</span> <span class="n">date</span> <span class="n">bal</span> <span class="o">--</span><span class="n">cleared</span> <span class="n">Assets</span><span class="p">:</span><span class="n">Bank</span><span class="p">:</span><span class="n">Savings</span>
</pre></div>
</div>
<p>Open the statement in one window, open <cite>cleartrans-cli</cite> in another window, and rapidly scan the bank statement for each amount that cycles through the clearing interface.</p>
<p>When a ledger transaction does not appear on the bank statement, it is either 1) in the future; or 2) invalid.
Usually, the transaction is in the future and will show up on the following month’s statement.
In the case of futue transactions, do not clear those transactions: use the interface to skip to the next transaction with the key ‘n’.
Uncleared transactions will remain in the ledger until next month when they can be cleared against an official statement.</p>
</div>
<div class="section" id="verify-balances">
<h2>Verify Balances<a class="headerlink" href="#verify-balances" title="Permalink to this headline">¶</a></h2>
<p>After an entire bank statement’s worth of transactions have been cleared, it is time to compare the bottom line.
Some statements - in particular, credit cards - like to hide the bottom line or confuse it with other sub-totals.
There is only one bottom line that matters - and it <strong>must</strong> match your ledger’s bottom line.</p>
<p>With the statement still open, see whether the balance of all cleared transactions matches:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ledger</span> <span class="o">--</span><span class="n">sort</span> <span class="n">date</span> <span class="n">bal</span> <span class="o">--</span><span class="n">cleared</span> <span class="n">Liabilities</span><span class="p">:</span><span class="n">CreditCard</span>
</pre></div>
</div>
<div class="section" id="what-to-do-if-the-balance-doesn-t-match">
<h3>What to do if the balance doesn’t match?<a class="headerlink" href="#what-to-do-if-the-balance-doesn-t-match" title="Permalink to this headline">¶</a></h3>
<p>The most common problem is that a transaction was entered but not cleared.
Look to <cite>transfers.ledger</cite> and the original ledger being cleared.
Calculate the amount you are off by: subtract the bank’s balance from the ledger balance.
Often times, this amount is a recognizable quantity that will perfectly match exactly one transaction in the ledger.
In case the difference looks “familiar,” search for that amount and manually mark the transaction as cleared.</p>
<p>Transfers can become convoluted because they involve two accounts you control, meaning it is more likely for these transactions to be double-entered.
In that case, the amount of the transfer will be equal to the amount of the difference between the bank statement and the ledger balance.
The transaction was probably not cleared, but in case it was actually not entered at all, then manually enter the transfer now.</p>
</div>
</div>
<div class="section" id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>[With all transactions clear, it is time for reporting](reporting.md).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">diamond-accounting</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="updating-accounts.html">Updating accounts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016 Ian Dennis Miller.
      
      |
      <a href="../_sources/process/clearing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>